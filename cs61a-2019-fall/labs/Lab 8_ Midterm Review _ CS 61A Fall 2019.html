<!DOCTYPE html>
<!-- saved from url=(0028)https://cs61a.org/lab/lab08/ -->
<html lang="en" style="overflow: visible;"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="description" content="CS 61A: Structure and Interpretation of Computer Programs">
    <meta name="keywords" content="CS 61A, Computer Science, CS, 61A, Programming, John DeNero, Berkeley, EECS">
    <meta name="author" content="John DeNero">
    
    <meta name="viewport" content="width=device-width">

    <script src="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/jquery.min.js.下载"></script>
    <script src="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/bootstrap.min.js.下载"></script>
    <script src="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/highlight.min.js.下载"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/bootstrap.min.css">
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/css">
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/style.css">
    <link rel="stylesheet" href="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/mono-blue.css">
    <link rel="icon" href="https://cs61a.org/assets/images/favicon.ico">

    

    <title>
Lab 8: Midterm Review | CS 61A Fall 2019
</title>
  <script charset="utf-8" src="chrome-extension://jgphnjokjhjlcnnajmfjlacjnjkhleah/js/btype.js"></script><script type="text/javascript" charset="utf-8" src="chrome-extension://jgphnjokjhjlcnnajmfjlacjnjkhleah/js/chrome.js"></script></head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-static-top">
      <div class="container noselect">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://cs61a.org/">
            <img style="max-width:60px; margin-top: -20px;" class="logo" src="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/logo.png">
          </a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="https://cs61a.org/lab/lab08/#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Staff
              </a>
              <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                <li><a href="https://cs61a.org/instructor.html">Instructors</a></li>
                <li><a href="https://cs61a.org/TAs.html">TAs</a></li>
                <li><a href="https://cs61a.org/tutors.html">Tutors</a></li>
                <li><a href="https://cs61a.org/academic-interns.html">Academic Interns</a></li>
              </ul>
            </li>
            <li><a href="https://cs61a.org/resources.html">Resources</a></li>
            <li><a href="https://cs61a.org/articles/about.html">Syllabus</a></li>
            <li><a href="https://piazza.com/berkeley/fall2019/cs61a" target="_blank">Piazza</a></li>
            <li><a href="https://cs61a.org/extra.html">Extra</a></li>
            <!-- <li><a href="https://scheme.cs61a.org">Scheme</a></li> -->
            <!-- <li><a href="https://sql.cs61a.org">SQL</a></li> -->
            <li><a href="https://code.cs61a.org/">Code</a></li>
            <li><a href="http://tutor.cs61a.org/">Tutor</a></li>
          </ul>
        </div>
      </div>
    </nav>

    <main id="content" class="container">
      
<div class="row">
  <div class="col-md-9 __reader_view_article_wrap_8839033865630916__">
    <header>
      <h1>
        
Lab 8: Midterm Review

        
        
        <ul class="inline-block list-inline">
          <li><a href="https://cs61a.org/lab/lab08/lab08.zip" class="label label-outline">lab08.zip</a></li>
        </ul>
        
        
      </h1>
    </header>
    

<p><i>Due by 11:59pm on Friday, October 25.</i></p>




<h2 id="starter-files">Starter Files</h2>

<p>Download <a href="https://cs61a.org/lab/lab08/lab08.zip">lab08.zip</a>.
Inside the archive, you will find starter files for the questions in this lab,
  along with a copy of the <a href="https://cs61a.org/lab/lab08/ok">Ok</a> autograder.</p>


<h2 id="submission">Submission</h2>

<p>By the end of this lab, you should have submitted the lab with
<code>python3 ok --submit</code>. You may submit more than once before the
deadline; only the final submission will be graded.
Check that you have successfully submitted your code on
<a href="https://okpy.org/">okpy.org</a>.</p>

<ul>
  <li>In order to facilitate midterm studying, solutions to this lab were released with the lab. We encourage you to try out the problems and struggle for a while before looking at the solutions!</li>
</ul>



    
<h1 id="topics">Topics</h1>


<p>Consult this section if you need a refresher on the material for this lab. It's okay to skip directly to the questions and refer back here should you get stuck.</p>


        <button id="toggle-1" class="btn btn-outline btn-lg alwaystoggle toggle" style="display: inline-block;">
        Orders of Growth<noscript> (enable JavaScript)</noscript>
        </button>
        <div class="solution toggle-1">


<h2 id="orders-of-growth">Orders of Growth</h2>


<p>Recall that the order of growth of a function expresses how long it
takes for the function to run, and is defined in terms of the
function's input sizes.</p>

<p>For example, let's say that we have the function <code>get_x</code> which is
defined as follows:</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_x</span><span class="hljs-params">(x)</span>:</span>
    <span class="hljs-keyword">return</span> x</code></pre>

<p><code>get_x</code> has one expression in it. That one expression takes the same
amount of time to run, no matter what x is, or more importantly, how
large x gets. This is called constant time.</p>

<p>The main two ways that a function in your program will get a running
time different than just constant time is through either iteration or
recursion. Let's start with some iteration examples!</p>

<p>The (simple) way you figure out the running time of a particular while
loop is to simply count the cost of each operation in the body of the
while loop, and then multiply that cost by the number of times that the
loop runs. For example, look at the following method with a loop in
it:</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">foo</span><span class="hljs-params">(n)</span>:</span>
    i, sum = <span class="hljs-number">1</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        sum,i = sum + i, i + <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> sum</code></pre>

<p>This loop has one statement in it <code>sum, i = sum + i, i + 1.</code> This
statement is considered to run in constant time, as none of its
operations rely on the size of the input.
Individually, <code>sum = sum + 1</code> and <code>i = i + 1</code> are both constant time operations.
However, when we're looking at order of growth, we take the maximum of
those 2 values and use that as the running time.&nbsp;In 61A, we are not
concerned with how long primitive functions, such as addition,
multiplication, and variable assignment, take in order to run - we are
mainly concerned with <em>how many more times a loop is
executed</em> or <em>how many more recursive calls</em> occur as
the input increases. In this example, we execute the loop n times, and
for each iteration, we only execute constant time operations, so we get
an order of growth of linear.</p>

<p>Here are a couple of basic functions, along with their running times.
Try to understand why they have the given running time.</p>

<ol>
  <li><p>Linear</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span><span class="hljs-params">(n)</span>:</span>
    i, a, b = <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        a, b, i = a + b, a, i + <span class="hljs-number">1</span>
     <span class="hljs-keyword">return</span> a</code></pre></li>
  <li><p>Quadratic</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span><span class="hljs-params">(n)</span>:</span>
    sum = <span class="hljs-number">0</span>
    a, b = <span class="hljs-number">0</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> a &lt; n:
        <span class="hljs-keyword">while</span> b &lt; n:
            sum += (a*b)
            b += <span class="hljs-number">1</span>
        b = <span class="hljs-number">0</span>
        a += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> sum</code></pre></li>
</ol>

</div>


<h1 id="required-questions">Required Questions</h1>



<h2 id="linked-lists">Linked Lists</h2>


<h3 class="question" id="q1">Q1: Insert</h3>

<p>Implement a function <code>insert</code> that takes a <code>Link</code>, a <code>value</code>, and an
<code>index</code>, and inserts the <code>value</code> into the <code>Link</code> at the given <code>index</code>.
You can assume the linked list already has at least one element. Do not
return anything -- <code>insert</code> should mutate the linked list.</p>

<blockquote><p><strong>Note</strong>: If the index is out of bounds, you can raise an <code>IndexError</code> with:</p>

<pre><code class="hljs nginx"><span class="hljs-attribute">raise</span> IndexError</code></pre></blockquote>



<pre><code class="hljs sql">def <span class="hljs-keyword">insert</span>(<span class="hljs-keyword">link</span>, <span class="hljs-keyword">value</span>, <span class="hljs-keyword">index</span>):
    <span class="hljs-string">"""Insert a value into a Link at the given index.

    &gt;&gt;&gt; link = Link(1, Link(2, Link(3)))
    &gt;&gt;&gt; print(link)
    &lt;1 2 3&gt;
    &gt;&gt;&gt; insert(link, 9001, 0)
    &gt;&gt;&gt; print(link)
    &lt;9001 1 2 3&gt;
    &gt;&gt;&gt; insert(link, 100, 2)
    &gt;&gt;&gt; print(link)
    &lt;9001 1 100 2 3&gt;
    &gt;&gt;&gt; insert(link, 4, 5)
    IndexError
    """</span>
<div class="alt solution-1">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-1">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">index</span> == <span class="hljs-number">0</span>:
        link.rest = <span class="hljs-keyword">Link</span>(link.first, link.rest)
        link.first = <span class="hljs-keyword">value</span>
    elif link.rest <span class="hljs-keyword">is</span> Link.empty:
        <span class="hljs-keyword">raise</span> IndexError
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">insert</span>(link.rest, <span class="hljs-keyword">value</span>, <span class="hljs-keyword">index</span> - <span class="hljs-number">1</span>)

# iterative solution
<span class="hljs-keyword">def</span> <span class="hljs-keyword">insert</span>(<span class="hljs-keyword">link</span>, <span class="hljs-keyword">value</span>, <span class="hljs-keyword">index</span>):
    <span class="hljs-keyword">while</span> <span class="hljs-keyword">index</span> &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> link.rest <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> Link.empty:
        <span class="hljs-keyword">link</span> = link.rest
        <span class="hljs-keyword">index</span> -= <span class="hljs-number">1</span>
    <span class="hljs-keyword">if</span> <span class="hljs-keyword">index</span> == <span class="hljs-number">0</span>:
        link.rest = <span class="hljs-keyword">Link</span>(link.first, link.rest)
        link.first = <span class="hljs-keyword">value</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">raise</span> IndexError</div></code></pre>


        <button id="solution-1" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q insert</code></pre>


<h2 id="orders-of-growth">Orders of Growth</h2>


<h3 class="question" id="q2">Q2: Finding Orders of Growth</h3>

<blockquote><p>Use Ok to test your knowledge with the following questions:</p>

<pre><code class="hljs nginx"><span class="hljs-attribute">python3</span> ok -q growth -u</code></pre>

<p>Be sure to ask a lab assistant or TA if you don't understand the correct
answer!</p></blockquote>

<p>What is the order of growth of <code>is_prime</code> in terms of <code>n</code>?</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">is_prime</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">2</span>, n):
        <span class="hljs-keyword">if</span> n % i == <span class="hljs-number">0</span>:
            <span class="hljs-keyword">return</span> <span class="hljs-keyword">False</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">True</span></code></pre>

<div class="solution solution-2">
Linear.

<p><em>Explanation</em>: In the worst case, <em>n</em> is prime, and we have to execute the
loop <em>n</em> - 2 times. Each iteration takes constant time (one conditional check
and one return statement). Therefore, the total time is (<em>n</em> - 2) x constant,
or simply linear.
</p></div>
        <button id="solution-2" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        <p></p>

<p>What is the order of growth of <code>bar</code> in terms of <code>n</code>?</p>

<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">bar</span><span class="hljs-params">(n)</span>:</span>
    i, sum = <span class="hljs-number">1</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        sum += biz(n)
        i += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> sum

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">biz</span><span class="hljs-params">(n)</span>:</span>
    i, sum = <span class="hljs-number">1</span>, <span class="hljs-number">0</span>
    <span class="hljs-keyword">while</span> i &lt;= n:
        sum += i**<span class="hljs-number">3</span>
        i += <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> sum</code></pre>

<div class="solution solution-3">
Quadratic.

<p><em>Explanation</em>: The body of the while loop in <code>bar</code> is executed <em>n</em>
times. Each iteration, one call to <code>biz(n)</code> is made. Note that <em>n</em> never
changes, so this call takes the same time to run each iteration. Taking a look at
<code>biz</code>, we see that there is another while loop. Be careful to note that
although the term being added to <code>sum</code> is cubed (<code>i**3</code>), <code>i</code> itself is only
incremented by 1 in each iteration. This tells us that this while loop also
executes <em>n</em> times, with each iteration taking constant time , so the total
time of <code>biz(n)</code> is <em>n</em> x constant, or linear. Knowing the runtime of
linear, we can conclude that each iteration of the while loop in <code>bar</code> is linear.
 Therefore, the total runtime of <code>bar(n)</code> is quadratic.
</p></div>
        <button id="solution-3" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        <p></p>

<!--
What is the order of growth of <code>foo</code> in terms of <code>n</code>, where <code>n</code> is the length
of <code>lst</code>? Assume that slicing a list and calling <code>len</code> on a list can both be
done in constant time.

<pre><code>def foo(lst, i):
    mid = len(lst) // 2
    if mid == 0:
        return lst
    elif i &gt; 0:
        return foo(lst[mid:], &#x2d;1)
    else:
        return foo(lst[:mid], 1)</code></pre>

<div class="solution solution-4">
&theta;(log(<em>n</em>)).

<p><em>Explanation</em>: A single recursive call is made in the body of <code>foo</code> on half the
input list (either the first half or the second half depending on the input
flag <code>i</code>). The base case is executed when the list either is empty or has only
one element. We start with an <em>n</em> element list and halve the list until there
is at most 1 element, which means there will be log(<em>n</em>) total calls. Each
call, constant work is done if we ignore the recursive call. The total runtime
is then log(<em>n</em>) * &theta;(1).</p>

<p><em>Note</em>: We simplified this problem by assuming that slicing a list takes
constant time. In reality, this operation is a bit more nuanced and may take
linear time. As an additional exercise, try determining the order of growth
of this function if we assuming slicing takes linear time.
</div>
        <button id='solution-4' class='btn btn-outline btn-lg solutiontoggle solution'>
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        --><p></p>


<h2 id="recursion-and-tree-recursion">Recursion and Tree Recursion</h2>


<h3 class="question" id="q3">Q3: Subsequences</h3>

<p>A subsequence of a sequence <code>S</code> is a sequence of elements from <code>S</code>, in the same
order they appear in <code>S</code>, but possibly with elements missing.  Thus, the lists
<code>[]</code>, <code>[1, 3]</code>, <code>[2]</code>, and <code>[1, 2, 3]</code> are some (but not all) of the
subsequences of <code>[1, 2, 3]</code>. Write a function that takes a list and returns a
list of lists, for which each individual list is a subsequence of the original
input.</p>

<p>In order to accomplish this, you might first want to write a function <code>insert_into_all</code> 
that takes an item and a list of lists, adds the item to the beginning of nested list,
and returns the resulting list.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insert_into_all</span><span class="hljs-params">(item, nested_list)</span>:</span>
    <span class="hljs-string">"""Assuming that nested_list is a list of lists, return a new list
    consisting of all the lists in nested_list, but with item added to
    the front of each.

    &gt;&gt;&gt; nl = [[], [1, 2], [3]]
    &gt;&gt;&gt; insert_into_all(0, nl)
    [[0], [0, 1, 2], [0, 3]]
    """</span>
<div class="alt solution-5">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-5">    <span class="hljs-keyword">return</span> [[item] + lst <span class="hljs-keyword">for</span> lst <span class="hljs-keyword">in</span> nested_list]</div>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">subseqs</span><span class="hljs-params">(s)</span>:</span>
    <span class="hljs-string">"""Assuming that S is a list, return a nested list of all subsequences
    of S (a list of lists). The subsequences can appear in any order.

    &gt;&gt;&gt; seqs = subseqs([1, 2, 3])
    &gt;&gt;&gt; sorted(seqs)
    [[], [1], [1, 2], [1, 2, 3], [1, 3], [2], [2, 3], [3]]
    &gt;&gt;&gt; subseqs([])
    [[]]
    """</span>
<div class="alt solution-5">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-5">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> s:
        <span class="hljs-keyword">return</span> [[]]
    <span class="hljs-keyword">else</span>:
        subset = subseqs(s[<span class="hljs-number">1</span>:])
        <span class="hljs-keyword">return</span> insert_into_all(s[<span class="hljs-number">0</span>], subset) + subset</div></code></pre>


        <button id="solution-5" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q subseqs</code></pre>
<h3 class="question" id="q4">Q4: Increasing Subsequences</h3>

<p>In <a href="https://cs61a.org/lab/lab04/#q7">Lab 4</a>, we examined the Subsequences problem.  A subsequence
of a sequence <code>S</code> is a sequence of elements from <code>S</code>, in the same order they
appear in <code>S</code>, but possibly with elements missing.  For example, the lists
<code>[]</code>, <code>[1, 3]</code>, <code>[2]</code>, and <code>[1, 3, 2]</code> are subsequences of <code>[1, 3, 2]</code>. Again,
we want to write a function that takes a list and returns a list of lists,
where each individual list is a subsequence of the original input.</p>

<p>This time we have another condition: we only want the subsequences for which
consecutive elements are <em>nondecreasing</em>.  For example, <code>[1, 3, 2]</code> is a
subsequence of <code>[1, 3, 2, 4]</code>, but since 2 &lt; 3, this subsequence would <em>not</em>
be included in our result.</p>

<p><strong>Fill in the blanks</strong> to complete the implementation of the <code>inc_subseqs</code>
function. You may assume that the input list contains no negative elements.</p>

<p>You may use the provided helper function <code>insert_into_all</code>, which takes in an
<code>item</code> and a list of lists and inserts the <code>item</code> to the front of each list.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">insert_into_all</span><span class="hljs-params">(item, lsts)</span>:</span>
    <span class="hljs-string">"""Assuming that lsts is a list of lists, return a new list consisting of
    all the lists in lsts, but with item added to the front of each.

    &gt;&gt;&gt; lsts = [[], [1, 2], [3]]
    &gt;&gt;&gt; insert_into_all(0, lsts)
    [[0], [0, 1, 2], [0, 3]]
    """</span>
    <span class="hljs-keyword">return</span> [[item] + lst <span class="hljs-keyword">for</span> lst <span class="hljs-keyword">in</span> lsts]

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">inc_subseqs</span><span class="hljs-params">(s)</span>:</span>
    <span class="hljs-string">"""Assuming that S is a list, return a nested list of all subsequences
    of S (a list of lists) for which the elements of the subsequence
    are strictly nondecreasing. The subsequences can appear in any order.

    &gt;&gt;&gt; seqs = inc_subseqs([1, 3, 2])
    &gt;&gt;&gt; sorted(seqs)
    [[], [1], [1, 2], [1, 3], [2], [3]]
    &gt;&gt;&gt; inc_subseqs([])
    [[]]
    &gt;&gt;&gt; seqs2 = inc_subseqs([1, 1, 2])
    &gt;&gt;&gt; sorted(seqs2)
    [[], [1], [1], [1, 1], [1, 1, 2], [1, 2], [1, 2], [2]]
    """</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">subseq_helper</span><span class="hljs-params">(s, prev)</span>:</span>
        <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> s:
<div class="alt solution-6">            <span class="hljs-keyword">return</span> ____________________
</div><div class="solution solution-6">            <span class="hljs-keyword">return</span> [[]]</div>        <span class="hljs-keyword">elif</span> s[<span class="hljs-number">0</span>] &lt; prev:
<div class="alt solution-6">            <span class="hljs-keyword">return</span> ____________________
</div><div class="solution solution-6">            <span class="hljs-keyword">return</span> subseq_helper(s[<span class="hljs-number">1</span>:], prev)</div>        <span class="hljs-keyword">else</span>:
<div class="alt solution-6">            a = ______________________
</div><div class="solution solution-6">            a = subseq_helper(s[<span class="hljs-number">1</span>:], s[<span class="hljs-number">0</span>])</div><div class="alt solution-6">            b = ______________________
</div><div class="solution solution-6">            b = subseq_helper(s[<span class="hljs-number">1</span>:], prev)</div><div class="alt solution-6">            <span class="hljs-keyword">return</span> insert_into_all(________, ______________) + ________________
</div><div class="solution solution-6">            <span class="hljs-keyword">return</span> insert_into_all(s[<span class="hljs-number">0</span>], a) + b</div><div class="alt solution-6">    <span class="hljs-keyword">return</span> subseq_helper(____, ____)
</div><div class="solution solution-6">    <span class="hljs-keyword">return</span> subseq_helper(s, <span class="hljs-number">0</span>)</div></code></pre>


        <button id="solution-6" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q inc_subseqs</code></pre>


<h1 id="optional-questions">Optional Questions</h1>



<h2 id="objects">Objects</h2>

<h3 class="question" id="q5">Q5: Keyboard</h3>

<p>We'd like to create a <code>Keyboard</code> class that takes in an arbitrary
number of <code>Button</code>s and stores these <code>Button</code>s in a dictionary. The
keys in the dictionary will be ints that represent the postition on the
<code>Keyboard</code>, and the values will be the respective <code>Button</code>. Fill out
the methods in the <code>Keyboard</code> class according to each description,
using the doctests as a reference for the behavior of a <code>Keyboard</code>.</p>



<pre><code class="hljs python"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Keyboard</span>:</span>
    <span class="hljs-string">"""A Keyboard takes in an arbitrary amount of buttons, and has a
    dictionary of positions as keys, and values as Buttons.

    &gt;&gt;&gt; b1 = Button(0, "H")
    &gt;&gt;&gt; b2 = Button(1, "I")
    &gt;&gt;&gt; k = Keyboard(b1, b2)
    &gt;&gt;&gt; k.buttons[0].key
    'H'
    &gt;&gt;&gt; k.press(1)
    'I'
    &gt;&gt;&gt; k.press(2) #No button at this position
    ''
    &gt;&gt;&gt; k.typing([0, 1])
    'HI'
    &gt;&gt;&gt; k.typing([1, 0])
    'IH'
    &gt;&gt;&gt; b1.times_pressed
    2
    &gt;&gt;&gt; b2.times_pressed
    3
    """</span>

    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, *args)</span>:</span>
<div class="alt solution-7">        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-7">        self.buttons = {}
        <span class="hljs-keyword">for</span> button <span class="hljs-keyword">in</span> args:
            self.buttons[button.pos] = button</div>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">press</span><span class="hljs-params">(self, info)</span>:</span>
        <span class="hljs-string">"""Takes in a position of the button pressed, and
        returns that button's output"""</span>
<div class="alt solution-7">        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-7">        <span class="hljs-keyword">if</span> info <span class="hljs-keyword">in</span> self.buttons.keys():
            b = self.buttons[info]
            b.times_pressed += <span class="hljs-number">1</span>
            <span class="hljs-keyword">return</span> b.key
        <span class="hljs-keyword">return</span> <span class="hljs-string">''</span></div>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">typing</span><span class="hljs-params">(self, typing_input)</span>:</span>
        <span class="hljs-string">"""Takes in a list of positions of buttons pressed, and
        returns the total output"""</span>
<div class="alt solution-7">        <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-7">        accumulate = <span class="hljs-string">''</span>
        <span class="hljs-keyword">for</span> pos <span class="hljs-keyword">in</span> typing_input:
            accumulate+=self.press(pos)
        <span class="hljs-keyword">return</span> accumulate</div>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Button</span>:</span>
    <span class="hljs-string">"""
    Represents a single button
    """</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(self, pos, key)</span>:</span>
        <span class="hljs-string">"""
        Creates a button
        """</span>
        self.pos = pos
        self.key = key
        self.times_pressed = <span class="hljs-number">0</span></code></pre>


        <button id="solution-7" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q Keyboard</code></pre>


<h2 id="nonlocal">Nonlocal</h2>

<h3 class="question" id="q6">Q6: Advanced Counter</h3>

<p>Complete the definition of <code>make_advanced_counter_maker</code>,
which creates a function that creates counters. These counters can not
only update their personal count, but also a shared count for all
counters.  They can also reset either count.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_advanced_counter_maker</span><span class="hljs-params">()</span>:</span>
    <span class="hljs-string">"""Makes a function that makes counters that understands the
    messages "count", "global-count", "reset", and "global-reset".
    See the examples below:

    &gt;&gt;&gt; make_counter = make_advanced_counter_maker()
    &gt;&gt;&gt; tom_counter = make_counter()
    &gt;&gt;&gt; tom_counter('count')
    1
    &gt;&gt;&gt; tom_counter('count')
    2
    &gt;&gt;&gt; tom_counter('global-count')
    1
    &gt;&gt;&gt; jon_counter = make_counter()
    &gt;&gt;&gt; jon_counter('global-count')
    2
    &gt;&gt;&gt; jon_counter('count')
    1
    &gt;&gt;&gt; jon_counter('reset')
    &gt;&gt;&gt; jon_counter('count')
    1
    &gt;&gt;&gt; tom_counter('count')
    3
    &gt;&gt;&gt; jon_counter('global-count')
    3
    &gt;&gt;&gt; jon_counter('global-reset')
    &gt;&gt;&gt; tom_counter('global-count')
    1
    """</span>
<div class="alt solution-8">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-8">    global_count = <span class="hljs-number">0</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_counter</span><span class="hljs-params">()</span>:</span>
        count = <span class="hljs-number">0</span>
        <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">counter</span><span class="hljs-params">(msg)</span>:</span>
            <span class="hljs-keyword">nonlocal</span> global_count, count
            <span class="hljs-keyword">if</span> msg == <span class="hljs-string">'count'</span>:
                count += <span class="hljs-number">1</span>
                <span class="hljs-keyword">return</span> count
            <span class="hljs-keyword">elif</span> msg == <span class="hljs-string">'reset'</span>:
                count = <span class="hljs-number">0</span>
            <span class="hljs-keyword">elif</span> msg == <span class="hljs-string">'global-count'</span>:
                global_count += <span class="hljs-number">1</span>
                <span class="hljs-keyword">return</span> global_count
            <span class="hljs-keyword">elif</span> msg == <span class="hljs-string">'global-reset'</span>:
                global_count = <span class="hljs-number">0</span>
        <span class="hljs-keyword">return</span> counter
    <span class="hljs-keyword">return</span> make_counter</div></code></pre>


        <button id="solution-8" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q make_advanced_counter_maker</code></pre>


<h2 id="mutable-lists">Mutable Lists</h2>

<h3 class="question" id="q7">Q7: Trade</h3>

<p>In the integer market, each participant has a list of positive integers to
trade. When two participants meet, they trade the smallest non-empty prefix of
their list of integers. A prefix is a slice that starts at index
0.</p>

<p>Write a function <code>trade</code> that exchanges the first <code>m</code> elements of list <code>first</code>
with the first <code>n</code> elements of list <code>second</code>, such that the sums of those
elements are equal, and the sum is as small as possible. If no such prefix
exists, return the string <code>'No deal!'</code> and do not change either list. Otherwise
change both lists and return <code>'Deal!'</code>. A partial implementation is provided.</p>

<blockquote><p><strong>Hint:</strong> You can mutate a slice of a list using <em>slice assignment</em>. To do so, specify
a slice of the list <code>[i:j]</code> on the left-hand side of an assignment statement
and another list on the right-hand side of the assignment statement. The
operation will replace the entire given slice of the list from <code>i</code> inclusive
to <code>j</code> exclusive with the elements from the given list. The slice and the
given list need not be the same length.</p>

<pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>]
<span class="hljs-meta">&gt;&gt;</span>&gt; b = a
<span class="hljs-meta">&gt;&gt;</span>&gt; a[<span class="hljs-number">2</span><span class="hljs-symbol">:</span><span class="hljs-number">5</span>] = [<span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>]
<span class="hljs-meta">&gt;&gt;</span>&gt; a
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>]
<span class="hljs-meta">&gt;&gt;</span>&gt; b
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">10</span>, <span class="hljs-number">11</span>, <span class="hljs-number">12</span>, <span class="hljs-number">13</span>, <span class="hljs-number">6</span>]</code></pre>

<p>Additionally, recall that the starting and ending indices for a slice can be left out
and Python will use a default value. <code>lst[i:]</code> is the same as <code>lst[i:len(lst)]</code>, and 
<code>lst[:j]</code> is the same as <code>lst[0:j]</code>.</p></blockquote>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">trade</span><span class="hljs-params">(first, second)</span>:</span>
    <span class="hljs-string">"""Exchange the smallest prefixes of first and second that have equal sum.

    &gt;&gt;&gt; a = [1, 1, 3, 2, 1, 1, 4]
    &gt;&gt;&gt; b = [4, 3, 2, 7]
    &gt;&gt;&gt; trade(a, b) # Trades 1+1+3+2=7 for 4+3=7
    'Deal!'
    &gt;&gt;&gt; a
    [4, 3, 1, 1, 4]
    &gt;&gt;&gt; b
    [1, 1, 3, 2, 2, 7]
    &gt;&gt;&gt; c = [3, 3, 2, 4, 1]
    &gt;&gt;&gt; trade(b, c)
    'No deal!'
    &gt;&gt;&gt; b
    [1, 1, 3, 2, 2, 7]
    &gt;&gt;&gt; c
    [3, 3, 2, 4, 1]
    &gt;&gt;&gt; trade(a, c)
    'Deal!'
    &gt;&gt;&gt; a
    [3, 3, 2, 1, 4]
    &gt;&gt;&gt; b
    [1, 1, 3, 2, 2, 7]
    &gt;&gt;&gt; c
    [4, 3, 1, 4, 1]
    """</span>
    m, n = <span class="hljs-number">1</span>, <span class="hljs-number">1</span>

<div class="alt solution-9">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-9">    equal_prefix = <span class="hljs-keyword">lambda</span>: sum(first[:m]) == sum(second[:n])
    <span class="hljs-keyword">while</span> m &lt; len(first) <span class="hljs-keyword">and</span> n &lt; len(second) <span class="hljs-keyword">and</span> <span class="hljs-keyword">not</span> equal_prefix():
        <span class="hljs-keyword">if</span> sum(first[:m]) &lt; sum(second[:n]):
            m += <span class="hljs-number">1</span>
        <span class="hljs-keyword">else</span>:
            n += <span class="hljs-number">1</span></div>
<div class="alt solution-9">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">False</span>: <span class="hljs-comment"># change this line!</span>
</div><div class="solution solution-9">    <span class="hljs-keyword">if</span> equal_prefix():</div>        first[:m], second[:n] = second[:n], first[:m]
        <span class="hljs-keyword">return</span> <span class="hljs-string">'Deal!'</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-string">'No deal!'</span></code></pre>


        <button id="solution-9" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q trade</code></pre>
<h3 class="question" id="q8">Q8: Shuffle</h3>

<p>Define a function <code>shuffle</code> that takes a sequence with an even number of
elements (cards) and creates a new list that interleaves the elements
of the first half with the elements of the second half.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">card</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-string">"""Return the playing card numeral as a string for a positive n &lt;= 13."""</span>
    <span class="hljs-keyword">assert</span> type(n) == int <span class="hljs-keyword">and</span> n &gt; <span class="hljs-number">0</span> <span class="hljs-keyword">and</span> n &lt;= <span class="hljs-number">13</span>, <span class="hljs-string">"Bad card n"</span>
    specials = {<span class="hljs-number">1</span>: <span class="hljs-string">'A'</span>, <span class="hljs-number">11</span>: <span class="hljs-string">'J'</span>, <span class="hljs-number">12</span>: <span class="hljs-string">'Q'</span>, <span class="hljs-number">13</span>: <span class="hljs-string">'K'</span>}
    <span class="hljs-keyword">return</span> specials.get(n, str(n))

<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">shuffle</span><span class="hljs-params">(cards)</span>:</span>
    <span class="hljs-string">"""Return a shuffled list that interleaves the two halves of cards.

    &gt;&gt;&gt; shuffle(range(6))
    [0, 3, 1, 4, 2, 5]
    &gt;&gt;&gt; suits = ['♡', '♢', '♤', '♧']
    &gt;&gt;&gt; cards = [card(n) + suit for n in range(1,14) for suit in suits]
    &gt;&gt;&gt; cards[:12]
    ['A♡', 'A♢', 'A♤', 'A♧', '2♡', '2♢', '2♤', '2♧', '3♡', '3♢', '3♤', '3♧']
    &gt;&gt;&gt; cards[26:30]
    ['7♤', '7♧', '8♡', '8♢']
    &gt;&gt;&gt; shuffle(cards)[:12]
    ['A♡', '7♤', 'A♢', '7♧', 'A♤', '8♡', 'A♧', '8♢', '2♡', '8♤', '2♢', '8♧']
    &gt;&gt;&gt; shuffle(shuffle(cards))[:12]
    ['A♡', '4♢', '7♤', '10♧', 'A♢', '4♤', '7♧', 'J♡', 'A♤', '4♧', '8♡', 'J♢']
    &gt;&gt;&gt; cards[:12]  # Should not be changed
    ['A♡', 'A♢', 'A♤', 'A♧', '2♡', '2♢', '2♤', '2♧', '3♡', '3♢', '3♤', '3♧']
    """</span>
    <span class="hljs-keyword">assert</span> len(cards) % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>, <span class="hljs-string">'len(cards) must be even'</span>
<div class="alt solution-10">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-10">    half = len(cards) // <span class="hljs-number">2</span>
    shuffled = []
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(half):
        shuffled.append(cards[i])
        shuffled.append(cards[half+i])
    <span class="hljs-keyword">return</span> shuffled</div></code></pre>


        <button id="solution-10" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q shuffle</code></pre>


<h2 id="generators">Generators</h2>

<h3 class="question" id="q9">Q9: Generate Permutations</h3>

<p>Given a sequence of unique elements, a <em>permutation</em> of the sequence is a list
containing the elements of the sequence in some arbitrary order. For example,
<code>[2, 1, 3]</code>, <code>[1, 3, 2]</code>, and <code>[3, 2, 1]</code> are some of the permutations of the
sequence <code>[1, 2, 3]</code>.</p>

<p>Implement <code>permutations</code>, a generator function that takes in a sequence <code>seq</code>
and returns a generator that yields all permutations of <code>seq</code>.</p>

<p>Permutations may be yielded in any order.  Note that the doctests test whether
you are yielding all possible permutations, but not in any particular order.
The built-in <code>sorted</code> function takes in an iterable object and returns a list
containing the elements of the iterable in non-decreasing order.</p>

<p>Your solution must fit on the lines provided in the skeleton code.</p>

<blockquote><p><em>Hint:</em> If you had the permutations of all the elements in <code>lst</code> not
including the first element, how could you use that to generate the
permutations of the full <code>lst</code>?</p></blockquote>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">permutations</span><span class="hljs-params">(seq)</span>:</span>
    <span class="hljs-string">"""Generates all permutations of the given sequence. Each permutation is a
    list of the elements in SEQ in a different order. The permutations may be
    yielded in any order.

    &gt;&gt;&gt; perms = permutations([100])
    &gt;&gt;&gt; type(perms)
    &lt;class 'generator'&gt;
    &gt;&gt;&gt; next(perms)
    [100]
    &gt;&gt;&gt; try:
    ...     next(perms)
    ... except StopIteration:
    ...     print('No more permutations!')
    No more permutations!
    &gt;&gt;&gt; sorted(permutations([1, 2, 3])) # Returns a sorted list containing elements of the generator
    [[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 1, 2], [3, 2, 1]]
    &gt;&gt;&gt; sorted(permutations((10, 20, 30)))
    [[10, 20, 30], [10, 30, 20], [20, 10, 30], [20, 30, 10], [30, 10, 20], [30, 20, 10]]
    &gt;&gt;&gt; sorted(permutations("ab"))
    [['a', 'b'], ['b', 'a']]
    """</span>
<div class="alt solution-11">    <span class="hljs-keyword">if</span> ____________________:
</div><div class="solution solution-11">    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> seq:</div><div class="alt solution-11">        <span class="hljs-keyword">yield</span> ____________________
</div><div class="solution solution-11">        <span class="hljs-keyword">yield</span> []</div>    <span class="hljs-keyword">else</span>:
<div class="alt solution-11">        <span class="hljs-keyword">for</span> perm <span class="hljs-keyword">in</span> _____________________:
</div><div class="solution solution-11">        <span class="hljs-keyword">for</span> perm <span class="hljs-keyword">in</span> permutations(seq[<span class="hljs-number">1</span>:]):</div><div class="alt solution-11">            <span class="hljs-keyword">for</span> _____ <span class="hljs-keyword">in</span> ________________:
</div><div class="solution solution-11">            <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(seq)):</div><div class="alt solution-11">                _________________________
</div><div class="solution solution-11">                <span class="hljs-keyword">yield</span> perm[:i] + [seq[<span class="hljs-number">0</span>]] + perm[i:]</div></code></pre>


        <button id="solution-11" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q permutations</code></pre>


<h2 id="recursive-objects">Recursive Objects</h2>

<h3 class="question" id="q10">Q10: Deep Linked List Length</h3>

<p>A linked list that contains one or more linked lists as elements is called a
<em>deep</em> linked list. Write a function <code>deep_len</code> that takes in a (possibly deep)
linked list and returns the <em>deep length</em> of that linked list. The deep length of
a linked list is the total number of non-link elements in the list, as well as the
total number of elements contained in all contained lists. See the function's doctests 
for examples of the deep length of linked lists.</p>

<blockquote><p><strong>Hint:</strong> Use <code>isinstance</code> to check if something is an instance of an object.</p></blockquote>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">deep_len</span><span class="hljs-params">(lnk)</span>:</span>
    <span class="hljs-string">""" Returns the deep length of a possibly deep linked list.

    &gt;&gt;&gt; deep_len(Link(1, Link(2, Link(3))))
    3
    &gt;&gt;&gt; deep_len(Link(Link(1, Link(2)), Link(3, Link(4))))
    4
    &gt;&gt;&gt; levels = Link(Link(Link(1, Link(2)), \
            Link(3)), Link(Link(4), Link(5)))
    &gt;&gt;&gt; print(levels)
    &lt;&lt;&lt;1 2&gt; 3&gt; &lt;4&gt; 5&gt;
    &gt;&gt;&gt; deep_len(levels)
    5
    """</span>
<div class="alt solution-12">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-12">    <span class="hljs-keyword">if</span> lnk <span class="hljs-keyword">is</span> Link.empty:
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>
    <span class="hljs-keyword">elif</span> <span class="hljs-keyword">not</span> isinstance(lnk, Link):
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">return</span> deep_len(lnk.first) + deep_len(lnk.rest)

    <span class="hljs-comment"># Video Walkthrough: https://youtu.be/pbMeCRUU7yw?t=2m28s</span></div></code></pre>


        <button id="solution-12" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q deep_len</code></pre>
<h3 class="question" id="q11">Q11: Linked Lists as Strings</h3>

<p>Kevin and Jerry like different ways of displaying the linked list
structure in Python. While Kevin likes box and pointer diagrams,
Jerry prefers a more futuristic way. Write a function
<code>make_to_string</code> that returns a function that converts the
linked list to a string in their preferred style.</p>

<p><em>Hint</em>:  You can convert numbers to strings using the <code>str</code> function,
and you can combine strings together using <code>+</code>.</p>

<pre><code class="hljs ruby"><span class="hljs-meta">&gt;&gt;</span>&gt; str(<span class="hljs-number">4</span>)
<span class="hljs-string">'4'</span>
<span class="hljs-meta">&gt;&gt;</span>&gt; <span class="hljs-string">'cs '</span> + str(<span class="hljs-number">61</span>) + <span class="hljs-string">'a'</span>
<span class="hljs-string">'cs 61a'</span></code></pre>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_to_string</span><span class="hljs-params">(front, mid, back, empty_repr)</span>:</span>
    <span class="hljs-string">""" Returns a function that turns linked lists to strings.

    &gt;&gt;&gt; kevins_to_string = make_to_string("[", "|-]--&gt;", "", "[]")
    &gt;&gt;&gt; jerrys_to_string = make_to_string("(", " . ", ")", "()")
    &gt;&gt;&gt; lst = Link(1, Link(2, Link(3, Link(4))))
    &gt;&gt;&gt; kevins_to_string(lst)
    '[1|-]--&gt;[2|-]--&gt;[3|-]--&gt;[4|-]--&gt;[]'
    &gt;&gt;&gt; kevins_to_string(Link.empty)
    '[]'
    &gt;&gt;&gt; jerrys_to_string(lst)
    '(1 . (2 . (3 . (4 . ()))))'
    &gt;&gt;&gt; jerrys_to_string(Link.empty)
    '()'
    """</span>
<div class="alt solution-13">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-13">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printer</span><span class="hljs-params">(lnk)</span>:</span>
        <span class="hljs-keyword">if</span> lnk <span class="hljs-keyword">is</span> Link.empty:
            <span class="hljs-keyword">return</span> empty_repr
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">return</span> front + str(lnk.first) + mid + printer(lnk.rest) + back
    <span class="hljs-keyword">return</span> printer

    <span class="hljs-comment"># Video Walkthrough: https://youtu.be/pbMeCRUU7yw?t=14m22s</span></div></code></pre>


        <button id="solution-13" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q make_to_string</code></pre>
<h3 class="question" id="q12">Q12: Prune Small</h3>

<p>Complete the function <code>prune_small</code> that takes in a <code>Tree</code> <code>t</code> and a
number <code>n</code> and prunes <code>t</code> mutatively. If <code>t</code> or any of its branches
has more than <code>n</code> branches, the <code>n</code> branches with the smallest labels
should be kept and any other branches should be <em>pruned</em>, or removed,
from the tree.</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">prune_small</span><span class="hljs-params">(t, n)</span>:</span>
    <span class="hljs-string">"""Prune the tree mutatively, keeping only the n branches
    of each node with the smallest label.

    &gt;&gt;&gt; t1 = Tree(6)
    &gt;&gt;&gt; prune_small(t1, 2)
    &gt;&gt;&gt; t1
    Tree(6)
    &gt;&gt;&gt; t2 = Tree(6, [Tree(3), Tree(4)])
    &gt;&gt;&gt; prune_small(t2, 1)
    &gt;&gt;&gt; t2
    Tree(6, [Tree(3)])
    &gt;&gt;&gt; t3 = Tree(6, [Tree(1), Tree(3, [Tree(1), Tree(2), Tree(3)]), Tree(5, [Tree(3), Tree(4)])])
    &gt;&gt;&gt; prune_small(t3, 2)
    &gt;&gt;&gt; t3
    Tree(6, [Tree(1), Tree(3, [Tree(1), Tree(2)])])
    """</span>
<div class="alt solution-14">    <span class="hljs-keyword">while</span> ___________________________:
</div><div class="solution solution-14">    <span class="hljs-keyword">while</span> len(t.branches) &gt;  n:</div><div class="alt solution-14">        largest = max(_______________, key=____________________)
</div><div class="solution solution-14">        largest = max(t.branches, key=<span class="hljs-keyword">lambda</span> x: x.label)</div><div class="alt solution-14">        _________________________
</div><div class="solution solution-14">        t.branches.remove(largest)</div><div class="alt solution-14">    <span class="hljs-keyword">for</span> __ <span class="hljs-keyword">in</span> _____________:
</div><div class="solution solution-14">    <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> t.branches:</div><div class="alt solution-14">        ___________________
</div><div class="solution solution-14">        prune_small(b, n)</div></code></pre>


        <button id="solution-14" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q prune_small</code></pre>


<h2 id="recursion-tree-recursion">Recursion / Tree Recursion</h2>

<h3 class="question" id="q13">Q13: Number of Trees</h3>

<p>How many different possible full binary tree (each node has two
branches or 0, but never 1) structures exist that have exactly n
leaves?</p>

<p>For those interested in combinatorics, this problem does have a <a href="http://en.wikipedia.org/wiki/Catalan_number">closed
form solution</a>):</p>



<pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">num_trees</span><span class="hljs-params">(n)</span>:</span>
    <span class="hljs-string">"""How many full binary trees have exactly n leaves? E.g.,

    1   2        3       3    ...
    *   *        *       *
       / \      / \     / \
      *   *    *   *   *   *
              / \         / \
             *   *       *   *

    &gt;&gt;&gt; num_trees(1)
    1
    &gt;&gt;&gt; num_trees(2)
    1
    &gt;&gt;&gt; num_trees(3)
    2
    &gt;&gt;&gt; num_trees(8)
    429

    """</span>
<div class="alt solution-15">    <span class="hljs-string">"*** YOUR CODE HERE ***"</span>
</div><div class="solution solution-15">    <span class="hljs-keyword">if</span> n == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> sum(num_trees(k) * num_trees(n-k) <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, n))</div></code></pre>


        <button id="solution-15" class="btn btn-outline btn-lg solutiontoggle solution" style="display: inline-block;">
        Toggle Solution<noscript> (enable JavaScript)</noscript>
        </button>
        

<p>Use Ok to test your code:</p><pre><code class="nohighlight">python3 ok -q num_trees</code></pre>

  </div>

  <div class="col-md-3 sticky">
    <nav class="hidden-print hidden-sm hidden-xs sidebar">
      <ul class="nav nav-stacked noselect">
  <li><a href="https://cs61a.org/lab/lab08/#topics">Topics</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/lab08/#orders-of-growth">Orders of Growth</a></li>
  </ul>
  <li><a href="https://cs61a.org/lab/lab08/#required-questions">Required Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/lab08/#linked-lists">Linked Lists</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q1">Q1: Insert</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#orders-of-growth">Orders of Growth</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q2">Q2: Finding Orders of Growth</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#recursion-and-tree-recursion">Recursion and Tree Recursion</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q3">Q3: Subsequences</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q4">Q4: Increasing Subsequences</a></li>
    </ul>
  </ul>
  <li><a href="https://cs61a.org/lab/lab08/#optional-questions">Optional Questions</a></li>
  <ul class="nav nav-stacked noselect">
    <li><a href="https://cs61a.org/lab/lab08/#objects">Objects</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q5">Q5: Keyboard</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#nonlocal">Nonlocal</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q6">Q6: Advanced Counter</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#mutable-lists">Mutable Lists</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q7">Q7: Trade</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q8">Q8: Shuffle</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#generators">Generators</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q9">Q9: Generate Permutations</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#recursive-objects">Recursive Objects</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q10">Q10: Deep Linked List Length</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q11">Q11: Linked Lists as Strings</a></li>
      <li><a href="https://cs61a.org/lab/lab08/#q12">Q12: Prune Small</a></li>
    </ul>
    <li><a href="https://cs61a.org/lab/lab08/#recursion-tree-recursion">Recursion / Tree Recursion</a></li>
    <ul class="nav nav-stacked noselect">
      <li><a href="https://cs61a.org/lab/lab08/#q13">Q13: Number of Trees</a></li>
    </ul>
  </ul>
</ul>
    </nav>
  </div>
</div>

    </main>

    <footer class="container">
      <div class="row text-center">
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/">CS 61A</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/weekly.html">Weekly Schedule</a></li>
            <li><a href="https://cs61a.org/office-hours.html">Office Hours</a></li>
            <li><a href="https://cs61a.org/staff.html">Staff</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/resources.html">Resources</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/studying.html">Studying Guide</a></li>
            <li><a href="https://cs61a.org/articles/debugging.html">Debugging Guide</a></li>
            <li><a href="https://cs61a.org/articles/composition.html">Composition Guide</a></li>
          </ul>
        </div>
        <div class="col col-sm-4">
          <h3><a href="https://cs61a.org/articles/about.html">Policies</a></h3>
          <ul class="nav nav-pills nav-stacked">
            <li><a href="https://cs61a.org/articles/about.html#assignments">Assignments</a></li>
            <li><a href="https://cs61a.org/articles/about.html#exams">Exams</a></li>
            <li><a href="https://cs61a.org/articles/about.html#grading">Grading</a></li>
          </ul>
        </div>
      </div>
    </footer>

    


<script>
  $('.sidebar ul').addClass('nav nav-stacked noselect');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });

  function goToId(id) {
    var target = $(id);
    console.log(target);
    target.parent().show();
    $('html,body').animate({
      scrollTop: target.offset().top,
    }, 100);
    $("body").scrollspy('refresh');
  }

  if (location.hash) {
    setTimeout(function() {
      // window.scrollTo(0, 0);
      if (location.hash) {
        goToId(location.hash);
      }
    }, 1);
  }

  $("a").click(function(event) {
    event.preventDefault();
    var urlBeforeHashRegEx = new RegExp("^"+window.location.href.split("#")[0]);
    if (/^#/.test(this.hash) && urlBeforeHashRegEx.test(this.href)) {
      goToId(this.hash);
      document.location.hash = this.hash;
    } else {
      window.open(this.href);
    }
  });
</script>


<script type="text/javascript" src="./Lab 8_ Midterm Review _ CS 61A Fall 2019_files/config.js.下载"></script>
<script>
/*
This code is duplicated in lab-check-in.html. Doesn't work if we move it to a separate
file because of JQuery document ready concurrency issues.
*/
$(function() {
  var staging_domains = ['staging.cs61a.org', 'solutions.cs61a.org', 'localhost', '127.0.0.1'];
  var host = window.location.hostname;
  var staging = staging_domains.indexOf(host) != -1;
  staging = staging || (host.endsWith('.pullrequests.cs61a.org') && !host.startsWith('last-build.'));

  var after_due_date = new Date(1571641200000) < new Date();
  var before_end_date = new Date() <= new Date(endDate);
  var release_solutions = (staging || after_due_date) && before_end_date;

  if (release_solutions) {
    $('.solutiontoggle').css('display', 'inline-block');
    $('.solutiontoggle').click(function() {
      var solution_id = $(this).attr('id');
      $('div.' + solution_id).slideToggle(600);
    });
  }
  $('.alwaystoggle').css('display', 'inline-block');
  $('.alwaystoggle').click(function() {
    var solution_id = $(this).attr('id');
    $('div.' + solution_id).slideToggle(600);
  });
});
</script>


  
<div id="download_plus_animation"></div></body></html>